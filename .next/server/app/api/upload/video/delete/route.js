"use strict";(()=>{var e={};e.id=852,e.ids=[852],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3292:e=>{e.exports=require("fs/promises")},1017:e=>{e.exports=require("path")},4974:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>f,originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>v,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>g});var o={};t.r(o),t.d(o,{DELETE:()=>p});var s=t(5419),a=t(9108),i=t(9678),d=t(8070),n=t(3292),u=t(1017),l=t.n(u);async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("filename");if(!t)return d.Z.json({success:!1,error:"No filename provided"});let o=l().join(process.cwd(),"public","uploads","videos",t);try{return await (0,n.unlink)(o),d.Z.json({success:!0})}catch(e){return console.log("File not found or already deleted:",t),d.Z.json({success:!0})}}catch(e){return console.error("Error deleting video:",e),d.Z.json({success:!1,error:"Failed to delete video"})}}let c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/upload/video/delete/route",pathname:"/api/upload/video/delete",filename:"route",bundlePath:"app/api/upload/video/delete/route"},resolvedPagePath:"/Users/smartsoftwareservicespvtltd/Downloads/bikedeal/src/app/api/upload/video/delete/route.ts",nextConfigOutput:"export",userland:o}),{requestAsyncStorage:v,staticGenerationAsyncStorage:h,serverHooks:m,headerHooks:f,staticGenerationBailout:g}=c,x="/api/upload/video/delete/route";function j(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,206],()=>t(4974));module.exports=o})();