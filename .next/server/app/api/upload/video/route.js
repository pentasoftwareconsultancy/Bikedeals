"use strict";(()=>{var e={};e.id=327,e.ids=[327],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3292:e=>{e.exports=require("fs/promises")},1017:e=>{e.exports=require("path")},1353:(e,r,o)=>{o.r(r),o.d(r,{headerHooks:()=>h,originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>v,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>w});var t={};o.r(t),o.d(t,{POST:()=>l});var s=o(5419),a=o(9108),i=o(9678),u=o(8070),n=o(3292),d=o(1017),p=o.n(d);async function l(e){try{let r=(await e.formData()).get("video");if(!r)return u.Z.json({success:!1,error:"No file uploaded"});if(!r.type.startsWith("video/"))return u.Z.json({success:!1,error:"File must be a video"});if(r.size>52428800)return u.Z.json({success:!1,error:"File size must be less than 50MB"});let o=await r.arrayBuffer(),t=Buffer.from(o),s=p().join(process.cwd(),"public","uploads","videos");await (0,n.mkdir)(s,{recursive:!0});let a=p().extname(r.name).toLowerCase(),i=`bg-video${a}`,d=p().join(s,i);await (0,n.writeFile)(d,t);let l=`/uploads/videos/${i}`;return u.Z.json({success:!0,url:l,filename:i})}catch(e){return console.error("Error uploading video:",e),u.Z.json({success:!1,error:"Failed to upload video"})}}let c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/upload/video/route",pathname:"/api/upload/video",filename:"route",bundlePath:"app/api/upload/video/route"},resolvedPagePath:"/Users/smartsoftwareservicespvtltd/Downloads/bikedeal/src/app/api/upload/video/route.ts",nextConfigOutput:"export",userland:t}),{requestAsyncStorage:v,staticGenerationAsyncStorage:f,serverHooks:m,headerHooks:h,staticGenerationBailout:w}=c,x="/api/upload/video/route";function g(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[638,206],()=>o(1353));module.exports=t})();